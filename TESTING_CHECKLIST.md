# 🧪 Thankly - 上线前测试清单

## 📱 **手动测试清单 (Manual Testing)**

### **1. Onboarding 流程**

- [ ] 首次启动显示欢迎页
- [ ] 隐私政策和服务条款链接可点击
- [ ] "同意并继续" 按钮正常工作
- [ ] 4 个引导页可以左右滑动
- [ ] 分页指示器正确显示（前 3 屏显示，第 4 屏隐藏）
- [ ] 第 4 屏 "Begin My Journey" 按钮正常工作
- [ ] 完成后不再显示 Onboarding

### **2. 语言切换**

- [ ] 中文界面显示正确
- [ ] 英文界面显示正确
- [ ] 切换系统语言后应用语言同步更新
- [ ] 所有文案翻译准确无误

### **3. 创建日记 - 语音**

- [ ] 点击麦克风按钮开始录音
- [ ] 录音时显示波形动画
- [ ] 录音时长显示正确
- [ ] 可以暂停/继续录音
- [ ] 可以停止录音
- [ ] 录音完成后显示 AI 处理进度
- [ ] AI 生成标题、内容、反馈正确
- [ ] 情绪标签显示正确
- [ ] 可以保存日记

### **4. 创建日记 - 图片**

- [ ] 可以选择多张图片（最多 10 张）
- [ ] 图片预览正确显示
- [ ] 可以删除已选图片
- [ ] 弹窗提示添加文字/语音
- [ ] 可以直接保存纯图片日记
- [ ] 可以添加文字描述
- [ ] 可以添加语音描述

### **5. 创建日记 - 文字**

- [ ] 文本输入框正常工作
- [ ] 可以输入中文
- [ ] 可以输入英文
- [ ] AI 处理文字日记正确
- [ ] 生成的标题、反馈合理

### **6. 创建日记 - 多模态（图片 + 语音/文字）**

- [ ] 图片 + 语音组合正常工作
- [ ] 图片 + 文字组合正常工作
- [ ] AI 能理解图片内容
- [ ] AI 综合图片和文字生成反馈

### **7. 日记列表**

- [ ] 首页显示所有日记
- [ ] 日记卡片显示标题、内容预览、日期
- [ ] 情绪标签显示正确
- [ ] 情绪光晕效果正确
- [ ] 日期格式正确（中文：2026 年 1 月 11 日 · 下午 2:52，英文：Jan 11, 2026 · 2:05 PM）
- [ ] 日记数量显示正确（"我的 X 个珍贵片刻"）
- [ ] 下拉刷新正常工作
- [ ] 音频播放正常工作
- [ ] 图片缩略图正确显示
- [ ] 点击日记进入详情页

### **8. 日记详情**

- [ ] 显示完整标题和内容
- [ ] 显示所有图片
- [ ] 图片可以点击放大查看
- [ ] 音频播放正常
- [ ] AI 反馈显示正确
- [ ] 情绪标签显示正确
- [ ] 可以删除图片
- [ ] 可以删除日记
- [ ] 可以复制日记内容

### **9. 用户体验**

- [ ] 所有按钮点击有反馈
- [ ] 加载状态显示清晰
- [ ] 错误提示友好
- [ ] 动画流畅
- [ ] 没有卡顿
- [ ] 没有闪烁

### **10. 边界情况**

- [ ] 网络断开时的错误处理
- [ ] 录音时间过长的处理（10 分钟上限）
- [ ] 图片过大的处理
- [ ] 空日记列表的显示
- [ ] 删除最后一条日记后的显示

---

## 🧪 **自动化测试清单 (Automated Testing)**

### **Backend 单元测试**

- [ ] 测试情绪分析函数
- [ ] 测试日期格式化函数
- [ ] 测试数据验证逻辑

### **Backend 集成测试**

- [ ] 测试 POST /diary/voice 端点
- [ ] 测试 GET /diary/list 端点
- [ ] 测试 DELETE /diary/{id} 端点
- [ ] 测试错误处理（401, 404, 500）

---

## 📊 **测试结果记录**

| 测试项 | 状态 | 问题描述       | 优先级 |
| ------ | ---- | -------------- | ------ |
| 示例   | ❌   | 按钮点击无响应 | P0     |

**优先级说明**：

- **P0**: 阻塞上线，必须修复
- **P1**: 严重问题，应该修复
- **P2**: 一般问题，可以后续修复
- **P3**: 优化建议，不影响功能

---

## ✅ **测试通过标准**

- [ ] 所有 P0 问题已修复
- [ ] 所有 P1 问题已修复或有解决方案
- [ ] 核心用户流程 100% 可用
- [ ] 中英文界面无明显错误
- [ ] 无崩溃、无数据丢失
